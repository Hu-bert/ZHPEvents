@using Microsoft.AspNetCore.Identity
@using ZHPEvents.Core.Identity

@inject SignInManager<AppUser> SignInManager
@inject UserManager<AppUser> UserManager

@model ZHPEvents.Core.Entities.Event

@{
    ViewData["Title"] = "Home Page";
    var user = await UserManager.GetUserAsync(User);
}

<div class="album py-5 bg-light">
    <div class="container">
        <div class="card flex-md-row mb-1 shadow-sm h-md-250">
            <div class="card-body d-flex flex-column align-items-start">
                <strong class="d-inline-block mb-2 text-primary">Kategoria</strong>
                <h3 class="mb-0">
                    <a class="text-dark" href="#">@Model.Title</a>
                </h3>
                <div class="mb-1 text-muted">@Model.AdditionTime.Date.ToString("dd.mm.yyyy")</div>
                <p class="card-text mb-auto">
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi enim lorem, egestas a auctor vel, scelerisque ut turpis. Praesent nec placerat velit, ut tincidunt velit. Curabitur at faucibus enim. Nunc consectetur lectus non quam laoreet, a lacinia ex consectetur. Curabitur blandit, neque id condimentum rhoncus, neque augue luctus magna, sit amet facilisis velit ipsum eu est. Pellentesque ut nisi eleifend, gravida justo vel, gravida lorem. Vivamus eleifend tortor orci, vel fermentum enim euismod ac. Morbi lobortis aliquet erat, non ullamcorper purus tincidunt in. Cras mollis lacus non fermentum hendrerit. Vestibulum elementum ornare ipsum, et faucibus ex ultrices et. Praesent finibus finibus leo, et suscipit dolor mollis a. Vivamus venenatis nibh tortor, ut sodales nunc euismod a.
                    <br /><br />
                <p><em>This line rendered as italicized text.</em></p>
                <div class="d-flex justify-content-between align-items-center">
                    <div class="btn-group">
                        <a asp-action="Events" class="btn btn-sm btn-outline-secondary" role="button">Powrót do listy</a>
                        @if (User.IsInRole("Administrator") || User.IsInRole("Editor") || User.IsInRole("EventEditor"))
                        {
                            <a asp-controller="Events" asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-sm btn-outline-secondary" role="button">Edytuj</a>
                        }
                        else if (user != null && user.Id == Model.AddingPerson)
                        {
                            <a asp-controller="Events" asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-sm btn-outline-secondary" role="button">Edytuj</a>
                        }
                    </div>
                </div>
            </div>
            <img class="card-img-right flex-auto d-none d-lg-block" data-src="holder.js/360x580?theme=thumb&bg=55595c&fg=eceeef&text=Thumbnail" alt="Card image cap">
        </div>
    </div>
</div>

@section Scripts {
    <script>
    </script>
}